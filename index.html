<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareABite - Share Food, Build Community</title>
    <meta name="description" content="Connect with neighbors to share leftover meals. Too good to waste, too good not to share.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="https://checkout.flutterwave.com/v3.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    
    <script src="firebase-config.js"></script>
    <script src="modals.js"></script>
    <script src="script.js"></script>
    <script src="impact.js"></script>
    <script src="chat.js"></script>
    <script src="location.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="nav">
        <a href="index.html" class="logo">ShareABite</a>
        <button class="mobile-menu-btn" onclick="toggleMenu()" aria-label="Toggle menu">
            <i class="fa-solid fa-bars"></i>
        </button>
        <div class="nav-links" id="navLinks">
            <div class="dropdown">
                <a href="#how" class="dropdown-toggle">
                    How It Works <i class="fa-solid fa-chevron-down"></i>
                </a>
                <div class="dropdown-menu">
                    <a href="application.html" class="dropdown-item">Apply for Food</a>
                    <a href="food_donation.html" class="dropdown-item">Donate Food</a>
                    <a href="index.html#donate" class="dropdown-item">Donate Money</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#features" class="dropdown-toggle">
                    Features <i class="fa-solid fa-chevron-down"></i>
                </a>
                <div class="dropdown-menu">
                    <a href="location.html" class="dropdown-item">Browse Food</a>
                    <a href="impact.html" class="dropdown-item">Impact Tracker</a>
                </div>
            </div>
            <a href="about.html">About</a>
            <div class="dropdown">
                <a href="#" class="dropdown-toggle btn btn-primary">
                    Donate <i class="fa-solid fa-chevron-down"></i>
                </a>
                <div class="dropdown-menu">
                    <a href="food_donation.html" class="dropdown-item">Donate Food</a>
                    <a href="index.html#donate" class="dropdown-item">Donate Money</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Section -->
    <section class="main">
        <div class="main-content">
            <h1>Share Good Food, Build Community</h1>
            <p>Connect with neighbors to share leftover meals. Too good to waste, too good not to share.</p>
            <a href="application.html" class="btn btn-primary">Start Your Application</a>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how">
        <h2 class="title">How It Works</h2>
        <p class="subtitle">Sharing food with your community is as easy as 1-2-3</p>

        <div class="steps">
            <div class="step">
                <div class="step-icon">
                    <i class="fa-solid fa-file-lines"></i>
                </div>
                <h3>Submit Application</h3>
                <p>Fill out our simple application form with your details, location, and dietary needs. It takes less
                    than 5 minutes!</p>
            </div>

            <div class="step">
                <div class="step-icon">
                    <i class="fa-solid fa-users"></i>
                </div>
                <h3>Get Matched</h3>
                <p>We connect you with food sharers and donors in your community who can help meet your needs within 24
                    hours.</p>
            </div>

            <div class="step">
                <div class="step-icon">
                    <i class="fa-solid fa-handshake"></i>
                </div>
                <h3>Receive Support</h3>
                <p>Coordinate with your matched sharer and receive nutritious meals from caring neighbors in your
                    community!</p>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <h2 class="features-title">Why ShareABite?</h2>
        <p class="features-subtitle">Making food sharing safe, easy, and rewarding</p>

        <div class="features-grid">
            <div class="feature">
                <div class="feature-icon">
                    <i class="fa-solid fa-location-dot"></i>
                </div>
                <h3>Location-Based</h3>
                <p>Find food shares within walking distance. See exactly how far away each meal is.</p>
            </div>

            <div class="feature">
                <div class="feature-icon">
                    <i class="fa-regular fa-comment-dots"></i>
                </div>
                <h3>Built-in Chat</h3>
                <p>Coordinate pickup details easily with our secure messaging system.</p>
            </div>

            <div class="feature">
                <div class="feature-icon">
                    <i class="fa-solid fa-star"></i>
                </div>
                <h3>Community Ratings</h3>
                <p>Build trust through reviews and ratings. Know you're sharing with reliable neighbors.</p>
            </div>

            <div class="feature">
                <div class="feature-icon">
                    <i class="fa-brands fa-pagelines"></i>
                </div>
                <h3>Impact Tracking</h3>
                <p>See how much food waste you've prevented and CO2 emissions you've saved.</p>
            </div>
        </div>
    </section>

    <!-- Donation Section -->
    <section class="donate-section" id="donate">
        <h2 class="title">Donate to ShareABite</h2>
        <p class="subtitle">Your donation helps us connect more people and reduce food waste in communities.</p>

        <div class="donate-container">
            <!-- Impact Information -->
            <div class="donate-info">
                <h3>Why Donate?</h3>

                <div class="impact-stats">
                    <span class="impact-number">$10</span>
                    <p>helps connect 50 people with meals</p>
                </div>

                <div class="impact-stats">
                    <span class="impact-number">$25</span>
                    <p>funds platform maintenance for a week</p>
                </div>

                <div class="impact-stats">
                    <span class="impact-number">$50</span>
                    <p>supports community outreach programs</p>
                </div>

                <div class="impact-stats">
                    <span class="impact-number">$100</span>
                    <p>covers operating costs for a month</p>
                </div>
            </div>

            <!-- Donation Form -->
            <div class="donate-form-container">
                <form class="donate-form" id="donorInfo">
                    <h3>Make A Donation</h3>

                    <!-- Anonymous Checkbox -->
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="anonymous" onchange="toggleAnonymous()">
                            Make my donation anonymous
                        </label>
                    </div>

                    <!-- Donor Details -->
                    <div id="donorDetails">
                        <div class="form-group">
                            <label for="donorName">Full Name</label>
                            <input type="text" id="donorName" placeholder="Enter your name">
                        </div>

                        <div class="form-group">
                            <label for="donorEmail">Email</label>
                            <input type="email" id="donorEmail" placeholder="Enter your email">
                        </div>
                    </div>

                    <!-- Donation Amount with Currency -->
                    <div class="form-group">
                        <label for="donationAmount">Donation Amount</label>
                        <div class="currency-input-wrapper">
                            <select class="currency-select" id="currency">
                                <option value="USD">USD $</option>
                                <option value="EUR">EUR â‚¬</option>
                                <option value="GBP">GBP Â£</option>
                                <option value="NGN">NGN â‚¦</option>
                                <option value="GHS">GHS â‚µ</option>
                                <option value="KES">KES KSh</option>
                                <option value="CAD">CAD $</option>
                                <option value="ETB">ETB Br</option>
                            </select>
                            <input type="number" class="currency-input" id="donationAmount" placeholder="Enter amount"
                                min="1">
                        </div>
                    </div>

                    <!-- Optional Message -->
                    <div class="form-group">
                        <label for="donormessage">Message (Optional)</label>
                        <textarea id="donormessage" rows="3"
                            placeholder="Share why you are supporting ShareABite"></textarea>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn-primary btn-submit" onclick="handleDonation(event)">
                        Proceed to Payment
                    </button>

                    <p class="note">ðŸ”’ You will be redirected to our secure payment processor.</p>
                </form>
            </div>
        </div>
    </section>

    <!-- Bottom CTA Section -->
    <section class="bottom-container">
        <h2>Ready to Make a Difference?</h2>
        <p>Join thousands of neighbors sharing food and building community</p>
        <a href="#donate" class="btn btn-secondary">Donate Today</a>
    </section>

    <!-- Footer Section -->
    <footer>
        <p>&copy; 2025 ShareABite. Share food, reduce waste, build community.</p>
    </footer>

    <div class="chat-widget collapsed" id="chatWidget">
        <div class="chat-header">
            <h3>Chat with Community</h3>
            <button class="chat-toggle" id="chatToggle">
                <i class="fa-solid fa-chevron-down"></i>
            </button>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="chat-messages" id="chatMessages">
                <div class="message system-message">
                    <p>Welcome to ShareABite chat! Connect with donors or receivers in your community.</p>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Type your message...">
                <button id="sendMessage" class="btn-primary">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('successModal')">&times;</span>
            <div class="modal-icon success">
                <i class="fa-solid fa-circle-check"></i>
            </div>
            <h3 class="modal-title" id="successModalTitle">Success!</h3>
            <p class="modal-message" id="successModalMessage"></p>
            <button class="btn btn-primary" onclick="closeModal('successModal')">OK</button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('errorModal')">&times;</span>
            <div class="modal-icon error">
                <i class="fa-solid fa-circle-exclamation"></i>
            </div>
            <h3 class="modal-title" id="errorModalTitle">Error</h3>
            <p class="modal-message" id="errorModalMessage"></p>
            <button class="btn btn-primary" onclick="closeModal('errorModal')">OK</button>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('confirmModal')">&times;</span>
            <div class="modal-icon warning">
                <i class="fa-solid fa-triangle-exclamation"></i>
            </div>
            <h3 class="modal-title" id="confirmModalTitle">Confirm Action</h3>
            <p class="modal-message" id="confirmModalMessage"></p>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal('confirmModal')">Cancel</button>
                <button class="btn btn-primary" id="confirmModalBtn">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('infoModal')">&times;</span>
            <div class="modal-icon info">
                <i class="fa-solid fa-circle-info"></i>
            </div>
            <h3 class="modal-title" id="infoModalTitle">Information</h3>
            <p class="modal-message" id="infoModalMessage"></p>
            <button class="btn btn-primary" onclick="closeModal('infoModal')">OK</button>
        </div>
    </div>
</body>
</html>